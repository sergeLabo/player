#:kivy 2.0.0

<MainScreen>:
    BoxLayout:  # une boite pour tout
        orientation: 'horizontal'
        canvas:
            Color:
                rgb: 0.95, 0.95, 0.95   # Fond blanc
            Rectangle:
                size: self.size
                pos: self.pos

        BoxLayout:  # boite gauche
            size_hint_x: 0.06

        BoxLayout:  # boite centre
            size_hint_x: 0.88
            BoxLayout:
                orientation: 'vertical'
                BoxLayout:  # une boite pour titre
                    orientation: 'vertical'
                    BoxLayout:
                        size_hint_y: 0.2
                    Label:  # text: 'Music Player'
                        size_hint_y: 0.40
                        font_size: 48
                        bold: True
                        valign: "center"
                        color: 192, 192, 192, 1
                        text: 'Mon Lecteur Musical'
                    Label:  # info
                        id: info
                        size_hint_y: 0.40
                        font_size: 36
                        valign: "center"
                        color: 192, 192, 192, 1
                        text: root.info

                BoxLayout:  # 3 button du bas
                    orientation: 'horizontal'
                    size_hint_y: 0.20
                    Button:
                        font_size: 22
                        background_color: (2.8, 2.8, 2.8, 1)
                        color: 142, 142, 142, 1
                        bold: True
                        text: 'Quitter'
                        on_release: root.quit()
                    Button:
                        font_size: 22
                        background_color: (2.8, 2.8, 2.8, 1)
                        color: 142, 142, 142, 1
                        bold: True
                        text: 'Options'
                        on_release: app.open_settings()
                    Button:
                        font_size: 22
                        background_color: (2.8, 2.8, 2.8, 1)
                        color: 142, 142, 142, 1
                        bold: True
                        text: 'Eteindre'
                        on_release: root.shutdown()

        BoxLayout:  # boite droite
            size_hint_x: 0.06
            BoxLayout:
                orientation: 'vertical'
                padding: 10
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    # # keep_ratio: True
                    background_normal: "images/albums.png"
                    background_down: "images/albums.png"
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "Albums"
                BoxLayout:
                    size_hint_y: 0.25

<Albums>:
    BoxLayout:  # une boite pour tout
        orientation: 'horizontal'

        BoxLayout:  # boite gauche
            size_hint_x: 0.06
            BoxLayout:
                orientation: 'vertical'
                padding: 10
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    keep_ratio: True
                    background_normal: "images/accueil.png"
                    background_down: "images/accueil.png"

                    on_release:
                        root.manager.transition.direction = "right"
                        app.root.current = "Main"
                BoxLayout:
                    size_hint_y: 0.25

        BoxLayout:  # une boite centre
            orientation: 'vertical'
            size_hint_x: 0.88
            Label:
                size_hint_y: 0.15
                font_size: 24
                color: 192, 192, 192, 1
                bold: True
                text: 'Albums'
            ScrollView:  # scroll
                id: album_scroll

        BoxLayout:  # boite droite
            size_hint_x: 0.06
            BoxLayout:
                padding: 10
                orientation: 'vertical'
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    keep_ratio: True
                    background_normal: "images/lecteur.png"
                    background_down: "images/lecteur.png"
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "Player"
                BoxLayout:
                    size_hint_y: 0.25

<Player>:
    BoxLayout:  # une boite pour tout
        orientation: 'horizontal'

        BoxLayout:  # boite gauche
            size_hint_x: 0.06
            BoxLayout:
                padding: 10
                orientation: 'vertical'
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    keep_ratio: True
                    background_normal: "images/albums.png"
                    background_down: "images/albums.png"
                    on_release:
                        root.manager.transition.direction = "right"
                        app.root.current = "Albums"
                BoxLayout:
                    size_hint_y: 0.25

        BoxLayout:
            size_hint_x: 0.88
            orientation: 'vertical'

            BoxLayout:  # bouton / album / bouton
                orientation: 'horizontal'
                size_hint_y: 0.15
                Label:  # artist
                    size_hint_x: 0.50
                    id: artist
                    font_name: "fonts/BalooChettan2-Bold.ttf"
                    font_size: 24
                    color: [192, 192, 192, 1]
                    bold: True

                Label:  # album
                    id: album
                    size_hint_x: 0.50
                    font_name: "fonts/Aileron-Regular.otf"
                    font_size: 24
                    bold: True
                    text_size: self.size
                    valign: "center"
                    halign: "center"
                    color: 192, 192, 192, 1

            BoxLayout:  # cover
                size_hint_y: 0.55
                orientation: 'horizontal'

                BoxLayout:
                    size_hint_x: 0.06

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.1
                    BoxLayout:
                        size_hint_y: 0.3
                    Label:
                        size_hint_y: 0.2
                        color: 0.8, 0.8, 0.8
                        font_size: 48
                        text: 'Titre'
                    Label:
                        size_hint_y: 0.2
                        id: track_number
                        color: 0.8, 0.8, 0.8
                        font_size: 64
                    BoxLayout:
                        size_hint_y: 0.3

                Image:  # cover
                    id: album_art
                    size_hint_x: 0.8
                    source: "covers/default_cover.png"

                BoxLayout:  # previous_track, play/pause, next_track
                    orientation: 'vertical'
                    size_hint_x: 0.12
                    Button: # previous_track
                        size_hint_y: 0.33
                        background_normal: "images/left_normal.png"
                        background_down: "images/left_down.png"
                        on_press: root.previous()
                    Button:  # play/pause
                        size_hint_y: 0.33
                        id: play_pause
                        background_normal: "images/Play-normal.png"
                        background_down: "images/Play-down.png"
                        on_press: root.play_pause()
                    Button:  # next_track
                        size_hint_y: 0.33
                        background_normal: "images/right_normal.png"
                        background_down: "images/right_down.png"
                        on_press: root.next()

                BoxLayout:
                    size_hint_x: 0.06

            ScrollView:  # title_scroll
                size_hint_y: 0.10
                id: title_scroll
                effect_cls: "ScrollEffect"
                scroll_x: 0
                Label:
                    id: title
                    size_hint_x: None
                    width: self.texture_size[0]
                    font_name: "fonts/BalooChettan2-Regular.ttf"
                    font_size: 36
                    color: 170, 170, 170, 1

            Slider:  # slider
                size_hint_y: 0.10
                id: song_slider
                # # cursor_size: 10, 10
                value_track: True
                value_track_color: 0.5, 0.5, 0.5, 1
                disabled: True
                min: 0
                max: root.maxi
                on_touch_up: root.change_position(self.value)

            Label:  # current_position
                size_hint_y: 0.10
                # # padding_x: 30
                id: current_position
                # # text_size: self.size
                halign: "left"
                font_size: 24
                color: 192, 192, 192, 1

        BoxLayout:  # boite droite
            size_hint_x: 0.06
            BoxLayout:
                padding: 10
                orientation: 'vertical'
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    keep_ratio: True
                    background_normal: "images/titres.png"
                    background_down: "images/titres.png"
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "Tracks"
                BoxLayout:
                    size_hint_y: 0.25

<Tracks>:
    BoxLayout:  # une boite pour tout
        orientation: 'horizontal'

        BoxLayout:  # boite gauche
            size_hint_x: 0.06
            BoxLayout:
                padding: 10
                orientation: 'vertical'
                BoxLayout:
                    size_hint_y: 0.25
                Button:
                    size_hint_y: 0.50
                    keep_ratio: True
                    background_normal: "images/lecteur.png"
                    background_down: "images/lecteur.png"
                    on_release:
                        root.manager.transition.direction = "right"
                        app.root.current = "Player"
                BoxLayout:
                    size_hint_y: 0.25

        BoxLayout:  # boite centre
            size_hint_x: 0.88

            BoxLayout:  # une boite pour scroll
                orientation: 'vertical'
                Label:
                    size_hint_y: 0.15
                    color: 0.8, 0.8, 0.8
                    font_size: 30
                    text: 'Titres'
                ScrollView:  # scroll
                    id: tracks_scroll

        BoxLayout:  # boite gauche
            size_hint_x: 0.06
